<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>H·ªá Th·ªëng Marketing Affiliate Gia ƒê√¨nh 2026</title>
    <style>
        :root { --p: #ee4d2d; --s: #1877F2; --v: #9b59b6; --g: #27ae60; --dark: #2d3436; }
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; padding: 20px; margin: 0; }
        .box { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); margin-bottom: 20px; }
        h2 { color: var(--p); border-bottom: 2px solid #eee; padding-bottom: 10px; margin-top: 0; }
        
        /* Member Management */
        .member-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 10px; margin: 15px 0; max-height: 250px; overflow-y: auto; padding: 10px; border: 1px inset #eee; background: #fafafa; }
        .m-btn { padding: 10px; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; background: #fff; font-size: 11px; text-align: left; position: relative; }
        .m-btn.active { background: var(--v); color: white; border-color: var(--v); box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
        .del-btn { position: absolute; top: 2px; right: 2px; background: red; color: white; border: none; border-radius: 50%; width: 15px; height: 15px; font-size: 10px; cursor: pointer; }

        /* Form */
        .form-row { display: flex; gap: 10px; flex-wrap: wrap; background: #e3f2fd; padding: 15px; border-radius: 10px; margin-bottom: 15px; align-items: center; }
        input, select { padding: 8px; border: 1px solid #ddd; border-radius: 5px; }
        
        /* Table */
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th { background: var(--dark); color: white; padding: 12px; font-size: 13px; }
        td { border-bottom: 1px solid #eee; padding: 10px; text-align: center; }
        
        .btn { border: none; padding: 10px 15px; border-radius: 8px; cursor: pointer; color: white; font-weight: bold; }
        .btn-ai { font-size: 10px; margin: 2px; width: 85px; }
        .status-bar { background: var(--v); color: white; padding: 12px; border-radius: 8px; text-align: center; font-weight: bold; margin-bottom: 10px; font-size: 16px; }
    </style>
</head>
<body>

<div style="max-width: 1200px; margin: auto;">
    <h1 style="text-align: center; color: var(--p);">üöÄ TR·∫†M ƒêI·ªÄU H√ÄNH MARKETING T·ªîNG L·ª∞C</h1>

    <div class="box">
        <h2>1. QU·∫¢N L√ù DANH S√ÅCH (32 Ng∆∞·ªùi nh√† + B·∫°n m·ªõi)</h2>
        <div class="form-row">
            <strong>Th√™m m·ªõi:</strong>
            <input type="text" id="inName" placeholder="H·ªç t√™n...">
            <input type="date" id="inBirth">
            <select id="inGen"><option value="Nam">Nam</option><option value="N·ªØ">N·ªØ</option></select>
            <input type="text" id="inHobby" placeholder="S·ªü th√≠ch (v√≠ d·ª•: n·∫•u ƒÉn, ƒë√° b√≥ng)">
            <button class="btn" style="background:var(--g)" onclick="addMem()">+ L∆∞u Ng∆∞·ªùi N√†y</button>
            <button class="btn" style="background:var(--dark)" onclick="resetSel()">üîÑ Ch·ªçn l·∫°i t·ª´ ƒë·∫ßu</button>
        </div>
        
        <div class="member-grid" id="memberList"></div>
        <div id="statusBar" class="status-bar">üëâ B∆Ø·ªöC 1: H√ÉY B·∫§M CH·ªåN M·ªòT NG∆Ø·ªúI TR√äN DANH S√ÅCH!</div>
    </div>

    <div class="box">
        <h2>2. NH·∫¨P KHO CSV & K·ªÇ CHUY·ªÜN AI</h2>
        <input type="file" id="csvFile" multiple accept=".csv" style="margin-bottom:10px">
        <button class="btn" style="background:var(--s)" onclick="exportJson()">üíæ Xu·∫•t files.json cho GitHub</button>
        
        <table>
            <thead>
                <tr>
                    <th width="250">T√™n S·∫£n Ph·∫©m</th>
                    <th>Link GitHub / Aff</th>
                    <th width="400">G·ªçi AI (T·ª± ƒë·ªông copy Prompt)</th>
                </tr>
            </thead>
            <tbody id="productArea"></tbody>
        </table>
    </div>
</div>

<script>
    // Kh·ªüi t·∫°o danh s√°ch 32 ng∆∞·ªùi th√¢n g·ªëc c·ªßa b·∫°n
    const rawMembers = [
        {n:"NGUY·ªÑN KH·∫ÆC NƒÇNG", d:"1944-06-04", g:"Nam", s:"ƒë·ªçc s√°ch"}, {n:"T√î TH·ªä H√Ä", d:"1948-08-29", g:"N·ªØ", s:"n·ªôi tr·ª£"},
        {n:"NGUY·ªÑN MINH NAM", d:"1971-03-03", g:"Nam", s:"kinh doanh"}, {n:"TH√ÇN TH·ªä KIM ANH", d:"1981-09-23", g:"N·ªØ", s:"mua s·∫Øm"},
        {n:"NGUY·ªÑN T√î NG√ÇN AN", d:"2014-09-28", g:"N·ªØ", s:"v·∫Ω tranh"}, {n:"NGUY·ªÑN T√î MINH CH√ÇU", d:"2016-07-25", g:"N·ªØ", s:"m√∫a"},
        {n:"NGUY·ªÑN T√î B√çCH NG·ªåC", d:"2020-02-05", g:"N·ªØ", s:"ch∆°i b√∫p b√™"}, {n:"NGUY·ªÑN TH·ªä MINH H·∫∞NG", d:"1974-01-07", g:"N·ªØ", s:"l√†m ƒë·∫πp"},
        {n:"NG√î QU√ù C∆Ø·ªúNG", d:"1973-05-23", g:"Nam", s:"th·ªÉ thao"}, {n:"NG√î GIA B√ÅCH", d:"2000-10-12", g:"Nam", s:"c√¥ng ngh·ªá"},
        {n:"NG√î GIA LINH", d:"2005-04-05", g:"N·ªØ", s:"du l·ªãch"}, {n:"NGUY·ªÑN TH·ªä MINH PH∆Ø∆†NG", d:"1978-11-06", g:"N·ªØ", s:"n·∫•u ƒÉn"},
        {n:"HO√ÄNG ANH D≈®NG", d:"1978-09-21", g:"Nam", s:"√¥ t√¥"}, {n:"HO√ÄNG H·∫¢I VINH", d:"2010-06-03", g:"Nam", s:"game"},
        {n:"HO√ÄNG THI√äN B·∫†CH ANH", d:"2015-11-14", g:"N·ªØ", s:"ca h√°t"}, {n:"T√î KIM HU·ªÜ", d:"1960-08-09", g:"N·ªØ", s:"l√†m v∆∞·ªùn"},
        {n:"NGUY·ªÑN TU·∫§N ANH", d:"1983-10-23", g:"Nam", s:"gym"}, {n:"NGUY·ªÑN TH·∫æ ANH", d:"2001-03-24", g:"Nam", s:"h·ªçc t·∫≠p"},
        {n:"NG√î TH·ªä MAI", d:"1948-12-12", g:"N·ªØ", s:"ngh·ªâ ng∆°i"}, {n:"T√î VI·ªÜT H∆ØNG", d:"1996-06-17", g:"Nam", s:"ph∆∞·ª£t"},
        {n:"T√î TH·ªä H·ªíNG", d:"1964-10-10", g:"N·ªØ", s:"may v√°"}, {n:"V≈® VƒÇN HI·ªÜP", d:"1974-04-24", g:"Nam", s:"k·ªπ thu·∫≠t"},
        {n:"NGUY·ªÑN TH·ªä CHI", d:"1946-02-08", g:"N·ªØ", s:"ƒëi ch√πa"}, {n:"NGUY·ªÑN T√ÇN B·∫ÆC", d:"1957-11-30", g:"Nam", s:"c·ªù t∆∞·ªõng"},
        {n:"NGUY·ªÑN TH·ªä T√ÇM", d:"1954-08-08", g:"N·ªØ", s:"chƒÉm ch√°u"}, {n:"TH√ÇN VƒÇN GI·ªÆ", d:"1955-04-18", g:"Nam", s:"th∆° ca"},
        {n:"NGUY·ªÑN TH·ªä B√åNH", d:"1958-05-21", g:"N·ªØ", s:"yoga"}, {n:"TH√ÇN TH·ªä B√çCH NGUY·ªÜT", d:"1980-05-21", g:"N·ªØ", s:"th·ªùi trang"},
        {n:"TH√ÇN VƒÇN TU·∫§N", d:"1983-05-21", g:"Nam", s:"ƒë√° b√≥ng"}, {n:"TH√ÇN Y·∫æN NHI", d:"2010-03-26", g:"N·ªØ", s:"tiktok"},
        {n:"L√ä TH·ªä PH∆Ø∆†NG", d:"1990-06-26", g:"N·ªØ", s:"c√† ph√™"}, {n:"NGUY·ªÑN HO√ÄI NAM", d:"2004-06-02", g:"Nam", s:"√¢m nh·∫°c"}
    ];

    let members = JSON.parse(localStorage.getItem('myMems')) || rawMembers;
    let warehouse = JSON.parse(localStorage.getItem('myWare')) || [];
    let activeM = null;

    function renderMems() {
        const grid = document.getElementById('memberList');
        grid.innerHTML = members.map((m, i) => {
            const age = Math.floor((new Date() - new Date(m.d))/31557600000);
            const lastChar = m.n.trim().split(' ').pop().slice(-1).toUpperCase();
            return `<button class="m-btn" onclick="selM(${i})">
                <strong>${m.n}</strong><br>
                <small>${m.g} - ${age}t - Ch·ªØ: ${lastChar}</small>
                <span class="del-btn" onclick="delM(event, ${i})">x</span>
            </button>`;
        }).join('');
    }

    function selM(i) {
        activeM = members[i];
        activeM.age = Math.floor((new Date() - new Date(activeM.d))/31557600000);
        activeM.last = activeM.n.trim().split(' ').pop().slice(-1).toUpperCase();
        document.getElementById('statusBar').innerText = `‚úÖ ƒêANG CH·ªåN: ${activeM.n} (${activeM.age} tu·ªïi)`;
        document.querySelectorAll('.m-btn').forEach((b, idx) => b.classList.toggle('active', idx === i));
    }

    function addMem() {
        const n = document.getElementById('inName').value;
        const d = document.getElementById('inBirth').value;
        const g = document.getElementById('inGen').value;
        const s = document.getElementById('inHobby').value;
        if(!n || !d) return alert("B·ªë nh·∫≠p ƒë·ªß T√™n v√† Ng√†y sinh nh√©!");
        members.unshift({n, d, g, s});
        localStorage.setItem('myMems', JSON.stringify(members));
        renderMems();
    }

    function delM(e, i) { e.stopPropagation(); members.splice(i, 1); localStorage.setItem('myMems', JSON.stringify(members)); renderMems(); }
    function resetSel() { activeM = null; document.getElementById('statusBar').innerText = "üëâ B∆Ø·ªöC 1: H√ÉY B·∫§M CH·ªåN M·ªòT NG∆Ø·ªúI!"; renderMems(); }

    // X·ª≠ l√Ω H√†ng h√≥a
    document.getElementById('csvFile').onchange = async (e) => {
        const files = Array.from(e.target.files);
        for (const file of files) {
            const text = await file.text();
            const lines = text.split('\n').slice(1);
            lines.forEach(l => {
                const c = l.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                if(c.length >= 8) {
                    const id = c[0].trim();
                    if(!warehouse.some(p => p.id === id)) {
                        warehouse.push({ id, name: c[1]?.replace(/\[.*?\]|\(.*?\)|"/g, '').split(' ').slice(0, 5).join(' ').trim(), l: c[8]?.trim() || c[7]?.trim() });
                    }
                }
            });
        }
        renderWare();
    };

    function renderWare() {
        const tbody = document.getElementById('productArea');
        tbody.innerHTML = warehouse.slice(-15).reverse().map(p => `
            <tr>
                <td><input value="${p.name}" onchange="upP('${p.id}', 'name', this.value)" style="width:90%"></td>
                <td><input value="${p.l.includes('product') ? '' : p.l}" onchange="upP('${p.id}', 'l', this.value)" placeholder="Link GitHub/Aff" style="width:90%"></td>
                <td>
                    <button class="btn btn-ai" style="background:var(--v)" onclick="callAI('DeepSeek', '${p.id}')">DeepSeek</button>
                    <button class="btn btn-ai" style="background:var(--s)" onclick="callAI('Gemini', '${p.id}')">Gemini</button>
                    <button class="btn btn-ai" style="background:#10a37f" onclick="callAI('ChatGPT', '${p.id}')">ChatGPT</button>
                    <button class="btn btn-ai" style="background:#000" onclick="callAI('Grok', '${p.id}')">Grok</button>
                </td>
            </tr>
        `).join('');
    }

    function upP(id, k, v) { warehouse.find(x => x.id === id)[k] = v; localStorage.setItem('myWare', JSON.stringify(warehouse)); }

    function callAI(ai, id) {
        if(!activeM) return alert("B·ªë ch·ªçn ng∆∞·ªùi nh·∫≠n ·ªü B∆∞·ªõc 1 ƒë√£!");
        const p = warehouse.find(x => x.id === id);
        
        const prompt = `Vi·∫øt m·ªôt c√¢u chuy·ªán ng·ª• ng√¥n h√†i h∆∞·ªõc v·ªÅ ${activeM.n} (${activeM.gen}, ${activeM.age} tu·ªïi, s·ªü th√≠ch: ${activeM.s}). 
        Trong truy·ªán ${activeM.n} t√¨nh c·ªù s·ªü h·ªØu m√≥n ƒë·ªì: ${p.name}. 
        H√£y k·ªÉ chuy·ªán th·∫≠t d√≠ d·ªèm, k·∫øt b√†i k√™u g·ªçi m·ªçi ng∆∞·ªùi xem ·∫£nh v√† gi√° s·∫£n ph·∫©m t·∫°i link GitHub nh√† em: ${p.l}`;

        navigator.clipboard.writeText(prompt).then(() => {
            alert(`‚úÖ ƒê√£ copy xong c√¢u chuy·ªán v·ªÅ ${activeM.n} v√† ${p.name}!\nB·ªë sang d√°n v√†o ${ai} nh√©.`);
            const urls = { 'DeepSeek': "https://chat.deepseek.com", 'Gemini': "https://gemini.google.com/app", 'ChatGPT': "https://chatgpt.com", 'Grok': "https://x.com/i/grok" };
            window.open(urls[ai], '_blank');
        });
    }

    function exportJson() {
        const blob = new Blob([JSON.stringify(warehouse, null, 2)], {type: 'application/json'});
        const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'files.json'; a.click();
    }

    renderMems(); renderWare();
</script>
</body>
</html>
