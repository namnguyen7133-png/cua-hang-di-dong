<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>H·ªá Th·ªëng Marketing Gia ƒê√¨nh - 4 AI T·ªïng L·ª±c</title>
    <style>
        :root { --p: #ee4d2d; --s: #1877F2; --v: #9b59b6; --g: #27ae60; --dark: #2d3436; --gpt: #10a37f; --x: #000000; }
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; padding: 20px; margin: 0; }
        .box { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); margin-bottom: 20px; }
        h2 { color: var(--p); border-bottom: 2px solid #eee; padding-bottom: 10px; margin-top: 0; }
        .member-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 10px; margin: 15px 0; max-height: 200px; overflow-y: auto; padding: 10px; border: 1px inset #eee; }
        .m-btn { padding: 8px; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; background: #fff; font-size: 11px; }
        .m-btn.active { background: var(--v); color: white; border-color: var(--v); font-weight: bold; }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th { background: var(--dark); color: white; padding: 12px; font-size: 12px; }
        td { border-bottom: 1px solid #eee; padding: 10px; text-align: center; }
        input { padding: 8px; border: 1px solid #ddd; border-radius: 5px; width: 90%; }
        .btn { border: none; padding: 10px 15px; border-radius: 8px; cursor: pointer; color: white; font-weight: bold; }
        .btn-ai { font-size: 10px; margin: 2px; width: 85px; }
        #finalResult { width: 100%; height: 150px; background: #fffcf0; border: 2px solid var(--g); padding: 10px; margin-top: 10px; }
    </style>
</head>
<body>

<div style="max-width: 1200px; margin: auto;">
    <h1 style="text-align: center; color: var(--p);">üöÄ H·ªÜ TH·ªêNG ƒêI·ªÄU H√ÄNH T·ªîNG L·ª∞C (4 AI)</h1>

    <div class="box">
        <h2>1. CH·ªåN NG∆Ø·ªúI TH√ÇN (Trong danh s√°ch 32 ng∆∞·ªùi)</h2>
        <div class="member-grid" id="memberList"></div>
        <div id="statusHeader" style="background:var(--v); color:white; padding:10px; border-radius:8px; text-align:center; font-weight:bold;">
            üëâ B∆Ø·ªöC 1: H√ÉY CH·ªåN M·ªòT NG∆Ø·ªúI!
        </div>
    </div>

    <div class="box">
        <h2>2. NH·∫¨P CSV & G·ªåI AI K·ªÇ CHUY·ªÜN</h2>
        <input type="file" id="csvInp" multiple accept=".csv" style="margin-bottom:10px">
        <button class="btn" style="background:var(--g)" onclick="exportFilesJson()">üíæ Xu·∫•t files.json cho GitHub</button>
        
        <table>
            <thead>
                <tr>
                    <th>T√™n S·∫£n Ph·∫©m</th>
                    <th width="200">Link SP (GitHub/Aff)</th>
                    <th>Ch·ªçn AI ƒë·ªÉ l·∫•y Prompt</th>
                    <th width="50">Xong</th>
                </tr>
            </thead>
            <tbody id="productArea"></tbody>
        </table>
    </div>

    <div class="box">
        <h2>3. N·ªòI DUNG ƒêƒÇNG FACEBOOK/ZALO (K√®m ·∫£nh gia ƒë√¨nh)</h2>
        <textarea id="finalResult" placeholder="Sau khi AI vi·∫øt xong, b√© d√°n n·ªôi dung v√†o ƒë√¢y ƒë·ªÉ copy ƒëi ƒëƒÉng k√®m ·∫£nh gia ƒë√¨nh nh√©..."></textarea>
        <div style="margin-top:10px">
            <button class="btn" style="background:var(--s)" onclick="copyFinal()">üìã Copy n·ªôi dung ƒëƒÉng b√†i</button>
            <p style="color:red; font-size:12px"><b>L∆∞u √Ω:</b> Khi ƒëƒÉng b√†i, h√£y ch·ªçn <b>·∫¢nh Gia ƒê√¨nh/B·∫°n B√®</b>, kh√¥ng ch·ªçn ·∫£nh s·∫£n ph·∫©m!</p>
        </div>
    </div>
</div>

<script>
    const members = [
        {n:"NGUY·ªÑN KH·∫ÆC NƒÇNG", d:"1944-06-04", g:"Nam"}, {n:"T√î TH·ªä H√Ä", d:"1948-08-29", g:"N·ªØ"},
        {n:"NGUY·ªÑN MINH NAM", d:"1971-03-03", g:"Nam"}, {n:"TH√ÇN TH·ªä KIM ANH", d:"1981-09-23", g:"N·ªØ"},
        {n:"NGUY·ªÑN T√î NG√ÇN AN", d:"2014-09-28", g:"N·ªØ"}, {n:"NGUY·ªÑN T√î MINH CH√ÇU", d:"2016-07-25", g:"N·ªØ"},
        {n:"NGUY·ªÑN T√î B√çCH NG·ªåC", d:"2020-02-05", g:"N·ªØ"}, {n:"NGUY·ªÑN TH·ªä MINH H·∫∞NG", d:"1974-01-07", g:"N·ªØ"},
        {n:"NG√î QU√ù C∆Ø·ªúNG", d:"1973-05-23", g:"Nam"}, {n:"NG√î GIA B√ÅCH", d:"2000-10-12", g:"Nam"},
        {n:"NG√î GIA LINH", d:"2005-04-05", g:"N·ªØ"}, {n:"NGUY·ªÑN TH·ªä MINH PH∆Ø∆†NG", d:"1978-11-06", g:"N·ªØ"},
        {n:"HO√ÄNG ANH D≈®NG", d:"1978-09-21", g:"Nam"}, {n:"HO√ÄNG H·∫¢I VINH", d:"2010-06-03", g:"Nam"},
        {n:"HO√ÄNG THI√äN B·∫†CH ANH", d:"2015-11-14", g:"N·ªØ"}, {n:"T√î KIM HU·ªÜ", d:"1960-08-09", g:"N·ªØ"},
        {n:"NGUY·ªÑN TU·∫§N ANH", d:"1983-10-23", g:"Nam"}, {n:"NGUY·ªÑN TH·∫æ ANH", d:"2001-03-24", g:"Nam"},
        {n:"NG√î TH·ªä MAI", d:"1948-12-12", g:"N·ªØ"}, {n:"T√î VI·ªÜT H∆ØNG", d:"1996-06-17", g:"Nam"},
        {n:"T√î TH·ªä H·ªíNG", d:"1964-10-10", g:"N·ªØ"}, {n:"V≈® VƒÇN HI·ªÜP", d:"1974-04-24", g:"Nam"},
        {n:"NGUY·ªÑN TH·ªä CHI", d:"1946-02-08", g:"N·ªØ"}, {n:"NGUY·ªÑN T√ÇN B·∫ÆC", d:"1957-11-30", g:"Nam"},
        {n:"NGUY·ªÑN TH·ªä T√ÇM", d:"1954-08-08", g:"N·ªØ"}, {n:"TH√ÇN VƒÇN GI·ªÆ", d:"1955-04-18", g:"Nam"},
        {n:"NGUY·ªÑN TH·ªä B√åNH", d:"1958-05-21", g:"N·ªØ"}, {n:"TH√ÇN TH·ªä B√çCH NGUY·ªÜT", d:"1980-05-21", g:"N·ªØ"},
        {n:"TH√ÇN VƒÇN TU·∫§N", d:"1983-05-21", g:"Nam"}, {n:"TH√ÇN Y·∫æN NHI", d:"2010-03-26", g:"N·ªØ"},
        {n:"L√ä TH·ªä PH∆Ø∆†NG", d:"1990-06-26", g:"N·ªØ"}, {n:"NGUY·ªÑN HO√ÄI NAM", d:"2004-06-02", g:"Nam"}
    ];

    let warehouse = JSON.parse(localStorage.getItem('full_warehouse_2026')) || [];
    let selM = null;

    function renderMembers() {
        document.getElementById('memberList').innerHTML = members.map(m => `
            <button class="m-btn" onclick="selectM('${m.n}', '${m.g}', '${m.d}')">${m.n}</button>
        `).join('');
    }

    function selectM(n, g, d) {
        selM = { n, g, a: Math.floor((new Date() - new Date(d))/31557600000) };
        document.getElementById('statusHeader').innerText = `‚úÖ ƒê√É CH·ªåN: ${n}`;
        document.querySelectorAll('.m-btn').forEach(b => b.classList.toggle('active', b.innerText.includes(n)));
    }

    document.getElementById('csvInp').onchange = async (e) => {
        const files = Array.from(e.target.files);
        for (const file of files) {
            const text = await file.text();
            const lines = text.split('\n').slice(1);
            lines.forEach(l => {
                const c = l.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                if(c.length >= 8) {
                    const id = c[0].trim();
                    if(!warehouse.some(p => p.id === id)) {
                        warehouse.push({
                            id: id, name: c[1]?.replace(/\[.*?\]|\(.*?\)|"/g, '').split(' ').slice(0, 5).join(' ').trim(),
                            l: c[8]?.trim() || c[7]?.trim(), img: '', done: false
                        });
                    }
                }
            });
        }
        save();
    };

    function renderWarehouse() {
        const tbody = document.getElementById('productArea');
        tbody.innerHTML = warehouse.slice(-15).reverse().map(p => `
            <tr>
                <td><input value="${p.name}" onchange="updateItem('${p.id}', 'name', this.value)"></td>
                <td><input value="${p.l.includes('product') ? '' : p.l}" onchange="updateItem('${p.id}', 'l', this.value)" placeholder="D√°n link GitHub/Aff..."></td>
                <td>
                    <button class="btn btn-ai" style="background:var(--v)" onclick="goAI('DeepSeek', '${p.id}')">DeepSeek</button>
                    <button class="btn btn-ai" style="background:var(--s)" onclick="goAI('Gemini', '${p.id}')">Gemini</button>
                    <button class="btn btn-ai" style="background:var(--gpt)" onclick="goAI('GPT', '${p.id}')">ChatGPT</button>
                    <button class="btn btn-ai" style="background:var(--x)" onclick="goAI('Grok', '${p.id}')">Grok (X)</button>
                </td>
                <td><input type="checkbox" ${p.done ? 'checked' : ''} onclick="updateItem('${p.id}', 'done', this.checked)"></td>
            </tr>
        `).join('');
    }

    function goAI(ai, id) {
        if(!selM) return alert("B√© ch·ªçn ng∆∞·ªùi th√¢n ·ªü B∆∞·ªõc 1 tr∆∞·ªõc nh√©!");
        const p = warehouse.find(x => x.id === id);
        
        const prompt = `Vi·∫øt m·ªôt b√†i ƒëƒÉng Facebook h√†i h∆∞·ªõc k·ªÉ v·ªÅ k·ª∑ ni·ªám gi·ªØa t√¥i v√† ${selM.n} (${selM.g}, ${selM.a} tu·ªïi). 
        Trong c√¢u chuy·ªán c√≥ xu·∫•t hi·ªán m√≥n ƒë·ªì: ${p.name}. 
        Gi·ªçng vƒÉn: Vui v·∫ª, th√¢n thi·ªán nh∆∞ ng∆∞·ªùi trong nh√†. 
        Cu·ªëi b√†i h√£y vi·∫øt: "M·ªçi ng∆∞·ªùi mu·ªën xem chi ti·∫øt m√≥n n√†y th√¨ v√†o c·ª≠a h√†ng c·ªßa nh√† em ·ªü ƒë√¢y nh√© (trong n√†y c√≥ ƒë·ªß ·∫£nh v√† gi√° ·∫°): ${p.l}"`;
        
        navigator.clipboard.writeText(prompt).then(() => {
            alert(`‚úÖ ƒê√£ copy Prompt cho ${ai}!\nB√© sang d√°n v√†o AI nh√©.`);
            const urls = {
                'DeepSeek': "https://chat.deepseek.com",
                'Gemini': "https://gemini.google.com/app",
                'GPT': "https://chatgpt.com",
                'Grok': "https://x.com/i/grok"
            };
            window.open(urls[ai], '_blank');
        });
    }

    function updateItem(id, k, v) {
        const idx = warehouse.findIndex(x => x.id === id);
        warehouse[idx][k] = v;
        save();
    }

    function save() {
        localStorage.setItem('full_warehouse_2026', JSON.stringify(warehouse));
        renderWarehouse();
    }

    function exportFilesJson() {
        const blob = new Blob([JSON.stringify(warehouse, null, 2)], {type: 'application/json'});
        const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'files.json'; a.click();
    }

    function copyFinal() {
        const res = document.getElementById('finalResult');
        res.select();
        document.execCommand('copy');
        alert("ƒê√£ copy xong! B√© m·ªü Facebook, ch·ªçn 1 c√°i ·∫¢nh Gia ƒê√¨nh th·∫≠t ƒë·∫πp r·ªìi d√°n b√†i n√†y v√†o nh√©!");
    }

    renderMembers();
    renderWarehouse();
</script>
</body>
</html>
